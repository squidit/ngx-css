<div [id]="id" class="modal overlay {{ overlayDirection }}" [ngClass]="{ open: open }" #overlay>
  <div
    class="modal-dialog {{ overlayDirection }}"
    [ngStyle]="{ 'background-color': headerColor }"
    [ngClass]="{ opened: finishOpening }"
    [clickOutsideEnabled]="!!(open && backdrop !== 'static' && overlay)"
    (clickOutside)="toCloseOverlay()"
  >
    <div class="modal-content scrollbar">
      <div
        class="modal-header"
        [ngClass]="{
          'without-header': !hasHeader,
          borderless: borderless,
        }"
        [ngStyle]="{
          'background-color': headerColor,
        }"
      >
        @if (headerTemplate) {
          <ng-container *ngTemplateOutlet="headerTemplate"></ng-container>
        }

        @if (showClose) {
          <button
            id="close-button"
            type="button"
            class="close button-close"
            aria-label="Close"
            (click)="overlayClose.emit()"
          >
            <i class="fa-solid fa-xmark" [ngStyle]="{ color: headerItemsColor }"></i>
          </button>
        }
      </div>

      <div
        class="modal-body scrollbar"
        [ngClass]="{
          'without-footer': !hasFooter,
        }"
        [ngStyle]="{
          'background-color': bodyColor,
          padding: bodyPadding,
        }"
      >
        <ng-content></ng-content>
      </div>

      @if (hasFooter) {
        <div
          class="modal-footer"
          [ngClass]="{
            borderless: borderless,
          }"
          [ngStyle]="{
            'background-color': footerColor,
          }"
        >
          @if (footerTemplate) {
            <ng-container *ngTemplateOutlet="footerTemplate"></ng-container>
          }
        </div>
      }
    </div>
  </div>
</div>
