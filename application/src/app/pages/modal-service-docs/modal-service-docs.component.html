<div class="modal-service-docs">
  <header class="docs-header">
    <h1>üìö SqModalManagerService - Documenta√ß√£o</h1>
    <p class="subtitle">Sistema unificado de modais e overlays din√¢micos</p>
  </header>

  <!-- Introdu√ß√£o -->
  <section class="docs-section intro">
    <div class="intro-content">
      <h2>üöÄ Vis√£o Geral</h2>
      <p>
        O <strong>SqModalManagerService</strong> √© um servi√ßo poderoso para gerenciar modais e overlays de forma din√¢mica,
        permitindo injetar qualquer componente Angular dentro de um modal/overlay sem precisar adicionar c√≥digo no template.
      </p>
      <div class="features-grid">
        <div class="feature-card">
          <i class="fas fa-window-maximize"></i>
          <h4>5 Tamanhos de Modal</h4>
          <p>sm, md, lg, xl, fullscreen</p>
        </div>
        <div class="feature-card">
          <i class="fas fa-arrows-alt"></i>
          <h4>4 Dire√ß√µes de Overlay</h4>
          <p>left, right, top, bottom</p>
        </div>
        <div class="feature-card">
          <i class="fas fa-cog"></i>
          <h4>Totalmente Customiz√°vel</h4>
          <p>Headers, footers e estilos</p>
        </div>
        <div class="feature-card">
          <i class="fas fa-bolt"></i>
          <h4>Anima√ß√µes Suaves</h4>
          <p>Transi√ß√µes elegantes</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Modais - Tamanhos -->
  <section class="docs-section">
    <h2>üéØ Modais Centralizados - Tamanhos</h2>
    <p>Escolha o tamanho ideal para cada situa√ß√£o:</p>

    <div class="example-buttons">
      <sq-button color="info" size="sm" (emitClick)="openSmallModal()">
        <i class="fas fa-window-minimize"></i> Small (400px)
      </sq-button>

      <sq-button color="primary" size="md" (emitClick)="openMediumModal()">
        <i class="fas fa-window-restore"></i> Medium (600px)
      </sq-button>

      <sq-button color="secondary" size="lg" (emitClick)="openModal()">
        <i class="fas fa-window-maximize"></i> Large (800px)
      </sq-button>

      <sq-button color="warning" size="lg" (emitClick)="openExtraLargeModal()">
        <i class="fas fa-expand-arrows-alt"></i> Extra Large (1000px)
      </sq-button>

      <sq-button color="success" size="lg" (emitClick)="openFullscreenModal()">
        <i class="fas fa-expand"></i> Fullscreen
      </sq-button>
    </div>

    <div class="code-example">
      <h3>üíª C√≥digo:</h3>
      <pre><code>// Pequeno - Formul√°rios simples
this.modalManager.open(QuickFormComponent, &#123;
  type: 'modal',
  size: 'sm',
  title: 'Login R√°pido'
&#125;);

// M√©dio - Padr√£o para a maioria dos casos
this.modalManager.open(UserFormComponent, &#123;
  type: 'modal',
  size: 'md',
  title: 'Editar Usu√°rio'
&#125;);

// Grande - Conte√∫do extenso
this.modalManager.open(DetailsComponent, &#123;
  type: 'modal',
  size: 'lg',
  title: 'Detalhes Completos'
&#125;);

// Extra Grande - Dados complexos
this.modalManager.open(DashboardComponent, &#123;
  type: 'modal',
  size: 'xl',
  title: 'Dashboard'
&#125;);

// Fullscreen - Editores, visualizadores
this.modalManager.open(EditorComponent, &#123;
  type: 'modal',
  size: 'fullscreen',
  title: 'Editor de C√≥digo'
&#125;);</code></pre>
    </div>
  </section>

  <!-- Modais - Comportamento -->
  <section class="docs-section">
    <h2>üõ°Ô∏è Modais - Backdrop e Bot√µes</h2>
    <p>Controle o comportamento de fechamento e apar√™ncia dos bot√µes:</p>

    <div class="example-buttons">
      <sq-button color="danger" size="md" (emitClick)="openStaticModal()">
        <i class="fas fa-lock"></i> Backdrop Est√°tico (n√£o fecha ao clicar fora)
      </sq-button>

      <sq-button color="success" size="md" (emitClick)="openDismissableModal()">
        <i class="fas fa-unlock"></i> Backdrop Dismissable (fecha ao clicar fora)
      </sq-button>

      <sq-button color="primary" size="md" (emitClick)="openCustomButtonsModal()">
        <i class="fas fa-edit"></i> Bot√µes Customizados
      </sq-button>

      <sq-button color="warning" size="md" (emitClick)="openNoFooterModal()">
        <i class="fas fa-eye-slash"></i> Sem Footer
      </sq-button>
    </div>

    <div class="code-example">
      <h3>üíª C√≥digo:</h3>
      <pre><code>// Backdrop est√°tico - usu√°rio DEVE usar os bot√µes
this.modalManager.open(ImportantFormComponent, &#123;
  type: 'modal',
  backdrop: 'static',
  title: 'A√ß√£o Importante',
  cancelButtonText: 'N√£o, Voltar',
  confirmButtonText: 'Sim, Continuar'
&#125;);

// Backdrop dismissable - fecha ao clicar fora ou ESC
this.modalManager.open(InfoComponent, &#123;
  type: 'modal',
  backdrop: 'true',
  title: 'Informa√ß√µes'
&#125;);

// Sem footer padr√£o
this.modalManager.open(ViewOnlyComponent, &#123;
  type: 'modal',
  title: 'Visualiza√ß√£o',
  showFooterButtons: false
&#125;);</code></pre>
    </div>
  </section>

  <!-- Overlays - Dire√ß√µes -->
  <section class="docs-section">
    <h2>üì± Overlays Deslizantes - Dire√ß√µes</h2>
    <p>Pain√©is deslizantes das 4 dire√ß√µes com anima√ß√µes suaves:</p>

    <div class="direction-grid">
      <div class="direction-item">
        <sq-button color="info" size="lg" (emitClick)="openLeftOverlay()">
          <i class="fas fa-arrow-right"></i> Esquerda
        </sq-button>
        <span class="use-case">Menu lateral, navega√ß√£o</span>
      </div>

      <div class="direction-item">
        <sq-button color="primary" size="lg" (emitClick)="openOverlay()">
          <i class="fas fa-arrow-left"></i> Direita
        </sq-button>
        <span class="use-case">Filtros, configura√ß√µes</span>
      </div>

      <div class="direction-item">
        <sq-button color="success" size="lg" (emitClick)="openTopOverlay()">
          <i class="fas fa-arrow-down"></i> Superior
        </sq-button>
        <span class="use-case">Notifica√ß√µes, alertas</span>
      </div>

      <div class="direction-item">
        <sq-button color="warning" size="lg" (emitClick)="openBottomOverlay()">
          <i class="fas fa-arrow-up"></i> Inferior
        </sq-button>
        <span class="use-case">A√ß√µes r√°pidas, sheet</span>
      </div>
    </div>

    <div class="code-example">
      <h3>üíª C√≥digo:</h3>
      <pre><code>// Overlay da ESQUERDA - Menu lateral
this.modalManager.open(MenuComponent, &#123;
  type: 'overlay',
  direction: 'left',
  width: '300px',
  title: 'Menu Principal'
&#125;);

// Overlay da DIREITA - Filtros (mais comum)
this.modalManager.open(FiltersComponent, &#123;
  type: 'overlay',
  direction: 'right',
  width: '500px',
  title: 'Filtros Avan√ßados',
  backdrop: 'true'
&#125;);

// Overlay SUPERIOR - Notifica√ß√µes
this.modalManager.open(NotificationsComponent, &#123;
  type: 'overlay',
  direction: 'top',
  title: 'Notifica√ß√µes Recentes'
&#125;);

// Overlay INFERIOR - A√ß√µes r√°pidas
this.modalManager.open(QuickActionsComponent, &#123;
  type: 'overlay',
  direction: 'bottom',
  title: 'A√ß√µes Dispon√≠veis'
&#125;);</code></pre>
    </div>
  </section>

  <!-- Passagem de Dados -->
  <section class="docs-section">
    <h2>üì¶ Passagem de Dados para Componentes</h2>
    <p>Passe dados para o componente via propriedade <code>data</code> e receba via <code>&#64;Input()</code>:</p>

    <div class="example-buttons">
      <sq-button color="primary" size="lg" (emitClick)="openModalWithData()">
        <i class="fas fa-database"></i> Modal com Dados
      </sq-button>

      <sq-button color="success" size="lg" (emitClick)="openModalWithLiveUpdate()">
        <i class="fas fa-sync-alt"></i> Atualiza√ß√£o em Tempo Real
      </sq-button>
    </div>

    <div class="code-example">
      <h3>üíª Componente de Conte√∫do:</h3>
      <pre><code>// user-details.component.ts
&#64;Component(&#123; ... &#125;)
export class UserDetailsComponent &#123;
  &#64;Input() userId!: number;
  &#64;Input() userName!: string;
  &#64;Input() userEmail!: string;
  &#64;Input() modalRef?: SqModalRef; // Refer√™ncia para fechar

  save() &#123;
    // Fechar modal retornando dados
    this.modalRef?.close(&#123;
      saved: true,
      userId: this.userId
    &#125;);
  &#125;

  cancel() &#123;
    this.modalRef?.close(&#123; cancelled: true &#125;);
  &#125;
&#125;</code></pre>

      <h3>üíª Abrindo o Modal:</h3>
      <pre><code>// Passar dados via config.data
openUserDetails(user: User) &#123;
  const modalRef = this.modalManager.open(UserDetailsComponent, &#123;
    type: 'modal',
    size: 'lg',
    title: `Editar Usu√°rio: $&#123;user.name&#125;`,
    data: &#123;
      userId: user.id,
      userName: user.name,
      userEmail: user.email
    &#125;
  &#125;);

  // Observar resultado
  modalRef.afterClosed().subscribe(result => &#123;
    if (result?.saved) &#123;
      console.log('Usu√°rio salvo!', result.userId);
      this.loadUsers(); // Recarregar lista
    &#125;
  &#125;);
&#125;

// Atualizar dados do modal j√° aberto
updateLiveData(modalRef: SqModalRef) &#123;
  modalRef.updateData(&#123;
    userName: 'Nome Atualizado',
    userEmail: 'novo&#64;email.com'
  &#125;);
&#125;</code></pre>
    </div>
  </section>

  <!-- Templates Customizados -->
  <section class="docs-section">
    <h2>üé® Headers e Footers Customizados</h2>
    <p>Crie headers e footers totalmente personalizados usando templates:</p>

    <div class="example-buttons">
      <sq-button color="secondary" size="lg" (emitClick)="openModalWithCustomHeader()">
        <i class="fas fa-paint-brush"></i> Header Customizado
      </sq-button>

      <sq-button color="primary" size="lg" (emitClick)="openModalWithCustomFooter()">
        <i class="fas fa-tools"></i> Footer Customizado
      </sq-button>

      <sq-button color="success" size="lg" (emitClick)="openModalFullyCustomized()">
        <i class="fas fa-magic"></i> Totalmente Customizado
      </sq-button>
    </div>

    <div class="code-example">
      <h3>üíª Componente com Templates:</h3>
      <pre><code>// custom-modal.component.ts
&#64;Component(&#123;
  template: `
    &lt;!-- Template do header customizado --&gt;
    &lt;ng-template #customHeader let-modalRef="modalRef"&gt;
      &lt;div class="custom-header"&gt;
        &lt;div class="header-left"&gt;
          &lt;i class="fas fa-star"&gt;&lt;/i&gt;
          &lt;h3&gt;&#123;&#123; title &#125;&#125;&lt;/h3&gt;
        &lt;/div&gt;
        &lt;button class="close-btn" (click)="modalRef.close()"&gt;
          &lt;i class="fas fa-times"&gt;&lt;/i&gt;
        &lt;/button&gt;
      &lt;/div&gt;
    &lt;/ng-template&gt;

    &lt;!-- Template do footer customizado --&gt;
    &lt;ng-template #customFooter let-modalRef="modalRef"&gt;
      &lt;div class="custom-footer"&gt;
        &lt;button (click)="modalRef.close()"&gt;
          Cancelar
        &lt;/button&gt;
        &lt;button (click)="modalRef.close('confirmed')"&gt;
          Confirmar
        &lt;/button&gt;
        &lt;button (click)="modalRef.close('saved')"&gt;
          Salvar
        &lt;/button&gt;
      &lt;/div&gt;
    &lt;/ng-template&gt;

    &lt;!-- Conte√∫do do modal --&gt;
    &lt;div class="modal-content"&gt;
      &#123;&#123; message &#125;&#125;
    &lt;/div&gt;
  `
&#125;)
export class CustomModalComponent &#123;
  &#64;Input() title = 'T√≠tulo';
  &#64;Input() message = 'Mensagem';
  &#64;Input() modalRef?: SqModalRef;

  &#64;ViewChild('customHeader', &#123; static: true &#125;)
  headerTemplate!: TemplateRef&lt;any&gt;;

  &#64;ViewChild('customFooter', &#123; static: true &#125;)
  footerTemplate!: TemplateRef&lt;any&gt;;

  // Expor templates para o servi√ßo detectar
  customHeaderTemplate = this.headerTemplate;
  customFooterTemplate = this.footerTemplate;
&#125;</code></pre>

      <h3>üíª Ou passar templates via config:</h3>
      <pre><code>// Definir templates no componente pai
&#64;ViewChild('myHeader') myHeaderTemplate!: TemplateRef&lt;any&gt;;
&#64;ViewChild('myFooter') myFooterTemplate!: TemplateRef&lt;any&gt;;

openWithTemplates() &#123;
  this.modalManager.open(ContentComponent, &#123;
    type: 'modal',
    headerTemplate: this.myHeaderTemplate,
    footerTemplate: this.myFooterTemplate,
    data: &#123; message: 'Conte√∫do' &#125;
  &#125;);
&#125;</code></pre>
    </div>
  </section>

  <!-- Casos de Uso Avan√ßados -->
  <section class="docs-section">
    <h2>üöÄ Casos de Uso Avan√ßados</h2>

    <div class="advanced-examples">
      <div class="advanced-item">
        <h4><i class="fas fa-layer-group"></i> M√∫ltiplos Modais</h4>
        <sq-button color="info" (emitClick)="openMultipleModals()">
          Testar
        </sq-button>
        <pre><code>// Abrir m√∫ltiplos modais em sequ√™ncia
const modal1 = this.modalManager.open(FirstComponent);
const modal2 = this.modalManager.open(SecondComponent);

// Verificar quantos est√£o abertos
console.log(this.modalManager.openModalsCount);

// Fechar todos
this.modalManager.closeAll();</code></pre>
      </div>

      <div class="advanced-item">
        <h4><i class="fas fa-palette"></i> Estiliza√ß√£o Customizada</h4>
        <sq-button color="warning" (emitClick)="openStyledModal()">
          Testar
        </sq-button>
        <pre><code>this.modalManager.open(CustomComponent, &#123;
  type: 'modal',
  customClass: 'my-custom-modal',
  backdropClass: 'my-backdrop',
  headerBgColor: '#4CAF50',
  bodyBgColor: '#ffffff',
  footerBgColor: '#f5f5f5',
  headerPadding: '2rem',
  bodyPadding: '2rem',
  footerPadding: '1rem'
&#125;);</code></pre>
      </div>

      <div class="advanced-item">
        <h4><i class="fas fa-bell"></i> Observar Eventos</h4>
        <pre><code>// Observar quando qualquer modal abre
this.modalManager.modalOpened$.subscribe(event => &#123;
  console.log('Modal aberto:', event.id);
&#125;);

// Observar quando qualquer modal fecha
this.modalManager.modalClosed$.subscribe(event => &#123;
  console.log('Modal fechado:', event.result);
&#125;);</code></pre>
      </div>

      <div class="advanced-item">
        <h4><i class="fas fa-check-circle"></i> Confirma√ß√£o de A√ß√µes</h4>
        <pre><code>async confirmDelete(userId: number) &#123;
  const modalRef = this.modalManager.open(ConfirmComponent, &#123;
    type: 'modal',
    size: 'sm',
    backdrop: 'static',
    title: 'Confirmar Exclus√£o',
    cancelButtonText: 'N√£o, Cancelar',
    confirmButtonText: 'Sim, Excluir',
    data: &#123; message: 'Tem certeza?' &#125;
  &#125;);

  const result = await firstValueFrom(
    modalRef.afterClosed()
  );

  if (result?.confirmed) &#123;
    await this.deleteUser(userId);
  &#125;
&#125;</code></pre>
      </div>
    </div>
  </section>

  <section class="docs-section">
    <h2>‚öôÔ∏è Op√ß√µes de Configura√ß√£o</h2>
    <table class="config-table">
      <thead>
        <tr>
          <th>Propriedade</th>
          <th>Tipo</th>
          <th>Padr√£o</th>
          <th>Descri√ß√£o</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><code>type</code></td>
          <td>string</td>
          <td>'modal'</td>
          <td>Tipo: 'modal' (centralizado) ou 'overlay' (lateral)</td>
        </tr>
        <tr>
          <td><code>size</code></td>
          <td>string</td>
          <td>'md'</td>
          <td>Tamanho: 'sm' (~400px), 'md' (~600px), 'lg' (~800px), 'xl' (~1000px), 'fullscreen' (tela toda)</td>
        </tr>
        <tr>
          <td><code>direction</code></td>
          <td>string</td>
          <td>'right'</td>
          <td>Dire√ß√£o do overlay: 'left', 'right', 'top', 'bottom'</td>
        </tr>
        <tr>
          <td><code>width</code></td>
          <td>string</td>
          <td>'475px'</td>
          <td>Largura do overlay</td>
        </tr>
        <tr>
          <td><code>backdrop</code></td>
          <td>string</td>
          <td>'static'</td>
          <td>'static' (n√£o fecha ao clicar) ou 'true' (fecha ao clicar)</td>
        </tr>
        <tr>
          <td><code>data</code></td>
          <td>object</td>
          <td>&#123;&#125;</td>
          <td>Dados passados para o componente via &#64;Input</td>
        </tr>
        <tr>
          <td><code>title</code></td>
          <td>string</td>
          <td>undefined</td>
          <td>T√≠tulo exibido no header padr√£o (se n√£o houver headerTemplate)</td>
        </tr>
        <tr>
          <td><code>cancelButtonText</code></td>
          <td>string</td>
          <td>'Fechar'</td>
          <td>Texto do bot√£o de cancelar no footer padr√£o</td>
        </tr>
        <tr>
          <td><code>confirmButtonText</code></td>
          <td>string</td>
          <td>'Concluir'</td>
          <td>Texto do bot√£o de confirmar no footer padr√£o</td>
        </tr>
        <tr>
          <td><code>showFooterButtons</code></td>
          <td>boolean</td>
          <td>true</td>
          <td>Exibir bot√µes padr√£o no footer (false para ocultar)</td>
        </tr>
      </tbody>
    </table>
  </section>

  <section class="docs-section">
    <h2>üîó M√©todos da ModalRef</h2>
    <ul class="methods-list">
      <li><strong>close(result?)</strong> - Fecha o modal e retorna um resultado opcional</li>
      <li><strong>updateData(data)</strong> - Atualiza os inputs do componente de conte√∫do</li>
      <li><strong>afterClosed()</strong> - Observable que emite quando o modal √© fechado</li>
    </ul>
  </section>
</div>
